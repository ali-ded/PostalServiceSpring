# Поштова служба
Програма емулює роботу поштової служби: реєстрація клієнтів, авторизація за номером телефону, створення відділень, доставок, опрацювання доставок та відправка повідомлень про статус доставок. 

**Сценарій виконання програми:**
1) Зареєструвати користувача
2) Авторизуватися
3) Створити кілька відділень
4) Створити кілька доставок (або одну доставку)
5) Дочекатися переходу всіх доставок у фінальний статус та дочекатися виконання відправок повідомлень

**Процес доставки**
1) Користувач створює доставку
2) Одержувач забирає чи не забирає посилку. Це реалізовано за допомогою окремого розкладу, який раз на секунду за кожною посилкою приймає рішення забрали посилку чи ні. Причому рішення, що посилку не забрали в 5 разів імовірніше. Через 5 секунд, якщо посилку не забрали, вона вважається не доставленою
3) У разі переходу у фінальний стан до таблиці повідомлень додається повідомлення для відправника про успішну або неуспішну доставку
4) Окремий потік періодично вичитує ненаправлені повідомлення та здійснює відправку (виведення в лог), потім проставляє статус про відправку

**Сутності**
1. Користувач
   * ідентифікатор
   * прізвище
   * ім'я
   * по-батькові
   * електронна пошта
   * телефон (виступає як логін)
2. Відділення
   * ідентифікатор
   * опис
3. Доставка
   * ідентифікатор
   * користувач (відправник)
   * відділення відправника (з таблиці "Відділення")
   * відділення одержувача (з таблиці "Відділення")
   * телефон одержувача
   * прізвище одержувача
   * ім'я одержувача
   * по-батькові одержувача
   * статус (Новий, Доставлена, Прострочена)
   * дата + час створення
   * дата + час зміни статусу
4. Повідомлення
   * ідентифікатор
   * текст
   * статус (Новий, Надіслано)
5. Статуси повідомлень
   * ідентифікатор
   * статус
6. Статуси посилок
   * ідентифікатор
   * статус

**Приклад виконання програми**

POST http://localhost:8080/api/registration

RequestBody:
{
"phoneNumber": 991234567,
"email": "o.solomon@gmail.com",
"surname": "Solomon",
"firstName": "Ofelia"
}

POST http://localhost:8080/api/login

RequestBody:
{
"phoneNumber": 991234567
}

POST http://localhost:8080/api/create-departments

RequestBody:
[
{
"description": "Department #1"
},
{
"description": "Department #2"
},
{
"description": "Department #3"
}
]

POST http://localhost:8080/api/create-deliveries

RequestBody:
[
{
"departmentSender": {
"id": 1
},
"departmentRecipient": {
"id": 2
},
"recipientPhone": 679861572,
"recipientSurname": "Beasley",
"recipientFirstName": "Travis"
},
{
"departmentSender": {
"id": 3
},
"departmentRecipient": {
"id": 1
},
"recipientPhone": 630952130,
"recipientSurname": "Montgomery",
"recipientFirstName": "Wade"
},
{
"departmentSender": {
"id": 2
},
"departmentRecipient": {
"id": 3
},
"recipientPhone": 506703491,
"recipientSurname": "Cunningham",
"recipientFirstName": "Gertrude"
}
]

GET http://localhost:8080/api/find-all-deliveries

